{% extends "layout.html" %}


{% block content %}


<script src='/static/liste.js' defer></script> 

<div style='width:100%'>
	
	
	<!-- box de renseignement sur ce qui est affiché -->
	<div  id='stat_table'>
		<p><h3><span id='tabletot' style='color:#14485f;font-weight:bold'></span> analyses au total</h3></p>
		<p><h3><span id='tablesize' style='color:#14485f;font-weight:bold'></span> analyses affichée(s) </h3></p>
	</div>

	
	<!-- champs de trie et de recherche dans la base de données -->
	<div id='innerdiv'>
	<p>
	<form method="post" action={{url_for('trier_list')}}>
		<select id='trie' name='select_val'onchange=trier()>
			<option value='trier'  disabled selected>trier par...</option>
			<option value='id'>id</option>
			<option value='sample'>sample</option>
			<option value='SNP_hi'>SNP</option>
			<option value='nVariants_hi'>nVariants</option>

		</select>
		
		<input disabled id="boutton_trier" type="submit" value="trier" title="trier le tableau" method='post'/>
		<input type="text" placeholder='Search for...' id='myInput' title="rechercher une analyse dans la base de données" onkeyup=search()  />
	</form>
	</p>


	<!-- tableau des analyses contenues dans la base de données -->
	<table class='customers'>
		<thead><tr>	<th>id</th> <th>échantillon</th><th>analyse</th><th>DEL</th><th>INS</th><th>SNP</th><th>nVariants</th></tr></thead>
		<tbody>
			{% for a in analyses %}
			<tr>
			<td>{{a.id}}</td>
			<td>{{a.nom}}</td>
			<td><a href="{{url_for('analyse_view', val=a.id)}}">{{a.sample}}</a></td>
			<td>{{a.DEL_hi}}</td>
			<td>{{a.INS_hi}}</td>
			<td style='font-weight:bold'>{{a.SNP_hi}}</td>
			<td>{{a.nVariants_hi}}</td>
			<td class="toolbox">
			<!-- permet la suppression de chaque analyse -->	  
			<a  onclick=Delete(event)>
			<button title="Supprimer l'analyse" class="suppr" >X</button></td></a>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	
	
	</div>


	<!-- boutton permettant de remonter en haut de page -->
	<button id="haut" ><img src='/static/images/arrow-up.png' style='height:22px' ></button>
	
	<img title="INFO : les mesures de polymorphisme (SNP, DEL, INS et nVariants) ont été calculées par alignement avec le génome de référence H37Rv. Elles sont basées sur les fichiers de variants <xxx.clean.PVD.Hi_filter.csv> produits par le pipeline DIANA. " src='/static/images/info.png' style='height:22px;position:absolute;top:475px;left:360px;'>


</div>
{% endblock %}
